"use strict";(self["webpackChunkchinese_myths"]=self["webpackChunkchinese_myths"]||[]).push([[426],{426:function(e,t,a){a.r(t),a.d(t,{default:function(){return u}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home-up"},[t("el-card",[t("h4",{attrs:{slot:"header"},slot:"header"},[e._v("本周访客")]),t("div",{attrs:{id:"visitor"}})]),t("el-card",[t("h4",{attrs:{slot:"header"},slot:"header"},[e._v("帖子数量")]),t("div",{attrs:{id:"amount"}})]),t("el-card",[t("h4",{attrs:{slot:"header"},slot:"header"},[e._v("新增用户")]),t("div",{attrs:{id:"newUser"}})]),t("el-card",[t("h4",{attrs:{slot:"header"},slot:"header"},[e._v("板块访问量")]),t("div",{attrs:{id:"plate-visits"}})])],1)},i=[],r=a(2761),n={data(){return{visitor:"",amount:"",newUser:"",plateVisits:""}},methods:{drawColChart(){this.visitor=this.$echarts.init(document.getElementById("visitor")),this.visitor.setOption({xAxis:{data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{},series:[{type:"bar",data:[],label:{show:!0,position:"top",color:"#333",fontSize:"12px",formatter:e=>e.value[e.encode.x[0]]}}]})},drawPieChart(){this.amount=this.$echarts.init(document.getElementById("amount")),this.amount.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:[]},series:[{name:"统计数量",type:"pie",data:[],emphasis:{itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}}]})},drawLineChart(){this.newUser=this.$echarts.init(document.getElementById("newUser")),this.newUser.setOption({tooltip:{trigger:"axis"},xAxis:{data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{},series:[{name:"新增用户",type:"line",data:[],smooth:!0}]})},drawRoseChart(){this.plateVisits=this.$echarts.init(document.getElementById("plate-visits")),this.plateVisits.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",type:"scroll",data:[]},series:[{name:"访问量",type:"pie",data:[],roseType:"radius",selecteMode:"nultiple",selectedOffset:20}],emphasis:{itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}})},async initPieData(){const e=await(0,r.jl)();if(console.log(e,1),200===e.status&&this.$message.success("获取数据成功！"),!e.data)return this.$message.error("服务器错误！");const{fri:t,mon:a,sat:s,sun:i,thu:n,tue:o,wed:d}=e.data.viewsOfTheWeek;this.visitor.setOption({series:{data:[a,o,d,n,t,s,i]}}),console.log([a,o,d,n,t,s,i]);const{creation:l,hero:u,natural:h}=e.data.pageView;this.amount.setOption({legend:{data:[{value:1,name:"创世神话"},{value:1,name:"英雄神话"},{value:1,name:"自然神话"}]},series:{data:[{value:l,name:"创世神话"},{value:u,name:"英雄神话"},{value:h,name:"自然神话"}]}});const{fri:c,mon:m,sat:p,sun:v,thu:f,tue:w,wed:g}=e.data.userRegistrations;this.newUser.setOption({series:{data:[m,w,g,f,c,p,v]}});const{creation:y,hero:C,natural:O}=e.data.postNum;this.plateVisits.setOption({legend:{data:[{value:1,name:"创世神话"},{value:1,name:"英雄神话"},{value:1,name:"自然神话"}]},series:{data:[{value:y,name:"创世神话"},{value:C,name:"英雄神话"},{value:O,name:"自然神话"}]}})},drawCharts(){this.drawColChart(),this.drawPieChart(),this.drawLineChart(),this.drawRoseChart()}},mounted(){this.drawCharts()},created(){this.initPieData()}},o=n,d=a(1001),l=(0,d.Z)(o,s,i,!1,null,"6e72b93e",null),u=l.exports},2761:function(e,t,a){a.d(t,{CP:function(){return m},Cy:function(){return h},GP:function(){return l},Xh:function(){return p},Y8:function(){return r},h8:function(){return d},jl:function(){return i},qC:function(){return v},qG:function(){return u},sl:function(){return o},x1:function(){return c},z2:function(){return n}});var s=a(5047);const i=()=>(0,s.v)("/getAllData"),r=(e,t)=>(0,s.v)("/getAllUser",{uid:e,token:t}),n=e=>(0,s.v)("/register",e),o=(e,t,a,i,{email:r,password:n,phone:o,role:d,uid:l,username:u})=>(0,s.v)("updataInfoByAdmin",{email:r,password:n,phone:o,role:d,uid:l,username:u,token:e,adminId:t,adminPwd:a,adminUser:i}),d=e=>(0,s.v)("/deleteUser",{uid:e}),l=e=>(0,s.v)("delectSection",{sid:e}),u=e=>(0,s.v)("addSection",e),h=()=>(0,s.v)("getAllSections"),c=()=>(0,s.v)("getAllPost"),m=e=>(0,s.v)("updatePost",e),p=(e,t)=>(0,s.v)("goToRecycle",{sid:e,pid:t}),v=(e,t)=>(0,s.v)("noneRecycle",{uid:e,pid:t})}}]);
//# sourceMappingURL=426.5c5223a6.js.map