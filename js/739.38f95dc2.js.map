{"version":3,"file":"js/739.38f95dc2.js","mappings":"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","sources":["webpack://chinese_myths/./src/components/MyHeader.vue","webpack://chinese_myths/./src/components/dropdown/DropDown.vue","webpack://chinese_myths/./src/components/dropdown/DropDownLink.vue","webpack://chinese_myths/src/components/dropdown/DropDownLink.vue","webpack://chinese_myths/./src/components/dropdown/DropDownLink.vue?1877","webpack://chinese_myths/./src/components/dropdown/DropDownLink.vue?6dab","webpack://chinese_myths/src/components/dropdown/DropDown.vue","webpack://chinese_myths/./src/components/dropdown/DropDown.vue?c842","webpack://chinese_myths/./src/components/dropdown/DropDown.vue?44ae","webpack://chinese_myths/src/components/MyHeader.vue","webpack://chinese_myths/./src/components/MyHeader.vue?c955","webpack://chinese_myths/./src/components/MyHeader.vue?20d4","webpack://chinese_myths/./src/views/RelationshipGraph.vue","webpack://chinese_myths/./src/api/services/relation.js","webpack://chinese_myths/src/views/RelationshipGraph.vue","webpack://chinese_myths/./src/views/RelationshipGraph.vue?2733","webpack://chinese_myths/./src/views/RelationshipGraph.vue?e15f","webpack://chinese_myths/./src/api/services/article.services.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-header',{attrs:{\"id\":\"myHead\"}},[_c('div',{staticClass:\"logo\"},[_c('img',{attrs:{\"src\":require(\"@/assets/logo.svg\"),\"alt\":\"\"}})]),_c('el-button',{staticClass:\"text\",attrs:{\"type\":\"text\"},on:{\"click\":_vm.toHome}},[_vm._v(\"网站主页\")]),_c('el-button',{staticClass:\"text\",attrs:{\"type\":\"text\"},on:{\"click\":_vm.toRelationshipGraph}},[_vm._v(\"关系图谱\")]),_c('div',{staticClass:\"search\"},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"prefix-icon\":\"el-icon-search\",\"clearable\":\"\"},on:{\"change\":function($event){return _vm.search(_vm.text)}},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}}),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.keyword),expression:\"keyword\"}],staticClass:\"content\",class:{ defaultContent: !_vm.searchList.length }},_vm._l((_vm.searchList),function(item,id){return _c('li',{key:id,staticClass:\"searchLi\",on:{\"click\":function($event){return _vm.toDetail(item.sid, item.pid)}}},[_vm._v(\" \"+_vm._s(item.intro)+\" \")])}),0)],1),(_vm.$store.state.token)?_c('drop-down'):_c('div',{staticClass:\"right\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.toLogin}},[_vm._v(\"登录\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.toSignUp}},[_vm._v(\"注册\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"drop-down\"},[(_vm.$store.state.user.role)?_c('el-dropdown',{attrs:{\"split-button\":\"\",\"type\":\"text\"},on:{\"click\":_vm.handleCommand}},[_c('drop-down-link',[_c('el-badge',{attrs:{\"slot\":\"item-icon\"},slot:\"item-icon\"},[_c('img',{attrs:{\"src\":require(\"@/assets/images/myheader/news.png\"),\"alt\":\"\"}})]),_c('div',{attrs:{\"slot\":\"item-text\"},slot:\"item-text\"},[_vm._v(\"后台\")])],1),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"})],1):_vm._e(),_c('el-dropdown',{attrs:{\"placement\":\"bottom\"}},[_c('drop-down-link',[_c('img',{attrs:{\"slot\":\"item-icon\",\"src\":require(\"@/assets/images/myheader/mine.png\"),\"alt\":\"\"},slot:\"item-icon\"}),_c('div',{attrs:{\"slot\":\"item-text\"},slot:\"item-text\"},[_vm._v(\"设置\")])]),_c('el-dropdown-menu',{staticClass:\"tab-bar-set\",attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('img',{attrs:{\"src\":_vm.$store.state.user.portrait,\"alt\":\"\"}}),_c('div',{staticClass:\"user-name\"},[_vm._v(\"用户名\")]),_c('div',{staticClass:\"account\"},[_vm._v(\"账户\")]),_c('ul',[_c('li',[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.toUser}},[_vm._v(\"我的账号\")])],1),_c('li',[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.password}},[_vm._v(\"更换密码\")])],1)]),_c('el-button',{staticClass:\"tab-bar-exit\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.exit}},[_vm._v(\"退出\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"drop-down-link\"},[_vm._t(\"item-icon\"),_vm._t(\"item-text\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"drop-down-link\">\n    <slot name=\"item-icon\"></slot>\n    <slot name=\"item-text\"></slot>\n  </div>\n</template>\n\n<script>\nexport default {\n\n}\n</script>\n\n<style lang=\"less\" scoped>\n  .drop-down-link {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n    padding: 0 10px;\n    font-size: 12px;\n    color: #fff;\n    cursor: pointer;\n    &:hover {\n      /deep/ img {\n        animation: leap 0.4s;\n      }\n    }\n    /deep/ img {\n      width: 21px;\n      vertical-align: middle;\n      margin-bottom: 3px;\n    }\n  }\n\n  @keyframes leap {\n    0% {\n      transform: translateY(0px);\n    }\n    50% {\n      transform: translateY(-4px);\n    }\n    100% {\n      transform: translateY(0px);\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DropDownLink.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DropDownLink.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DropDownLink.vue?vue&type=template&id=b9c2a548&scoped=true&\"\nimport script from \"./DropDownLink.vue?vue&type=script&lang=js&\"\nexport * from \"./DropDownLink.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DropDownLink.vue?vue&type=style&index=0&id=b9c2a548&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b9c2a548\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"drop-down\">\n    <!-- 消息栏 -->\n    <el-dropdown\n      split-button\n      type=\"text\"\n      @click=\"handleCommand\"\n      v-if=\"$store.state.user.role\"\n    >\n      <drop-down-link>\n        <el-badge slot=\"item-icon\">\n          <img src=\"@/assets/images/myheader/news.png\" alt=\"\" />\n        </el-badge>\n        <div slot=\"item-text\">后台</div>\n      </drop-down-link>\n      <el-dropdown-menu slot=\"dropdown\"></el-dropdown-menu>\n      <!-- <el-dropdown-menu slot=\"dropdown\">\n        <el-dropdown-item>\n          评论我的\n          <el-badge :value=\"2\" class=\"item\" />\n        </el-dropdown-item>\n        <el-dropdown-item>回复我的\n          <el-badge class=\"item\" />\n        </el-dropdown-item>\n        <el-dropdown-item>收到的赞\n          <el-badge :value=\"15\" class=\"item\" />\n        </el-dropdown-item>\n      </el-dropdown-menu> -->\n    </el-dropdown>\n    <!-- 通知栏 -->\n    <!-- <drop-down-link @click.native=\"toNote\">\n      <img src=\"@/assets/images/myheader/note.png\" alt=\"\" slot=\"item-icon\">\n      <div slot=\"item-text\">笔记</div>\n    </drop-down-link> -->\n    <!-- 设置栏 -->\n    <el-dropdown placement=\"bottom\">\n      <drop-down-link>\n        <img slot=\"item-icon\" src=\"@/assets/images/myheader/mine.png\" alt=\"\" />\n        <div slot=\"item-text\">设置</div>\n      </drop-down-link>\n      <el-dropdown-menu slot=\"dropdown\" class=\"tab-bar-set\">\n        <img :src=\"$store.state.user.portrait\" alt=\"\" />\n        <div class=\"user-name\">用户名</div>\n        <div class=\"account\">账户</div>\n        <ul>\n          <li>\n            <el-button type=\"text\" @click=\"toUser\">我的账号</el-button>\n          </li>\n          <li>\n            <el-button type=\"text\" @click=\"password\">更换密码</el-button>\n          </li>\n        </ul>\n        <el-button class=\"tab-bar-exit\" type=\"primary\" @click=\"exit\"\n          >退出</el-button\n        >\n      </el-dropdown-menu>\n    </el-dropdown>\n  </div>\n</template>\n\n<script>\nimport DropDownLink from './DropDownLink.vue';\nexport default {\n  data() {\n    return {};\n  },\n  methods: {\n    // 跳转到用户页面\n    toUser() {\n      this.$router.push('/userinfo');\n    },\n    // 笔记页面\n    // toNote () {\n    //   this.$store.commit('updateUrl', 'http://43.138.211.99:8090/')\n    //   this.$router.push('/others')\n    // },\n    // 退出方法\n    exit() {\n      window.localStorage.clear();\n      this.$router.go(0);\n    },\n    // 修改密码\n    password() {\n      this.$router.push('/updatepwd');\n    },\n    // 跳转到用户帖子\n    handleCommand() {\n      this.$router.push('/bghome');\n    },\n  },\n  components: {\n    DropDownLink,\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.drop-down {\n  display: flex;\n  justify-content: space-between;\n  width: 180px;\n  height: 100%;\n  margin-right: 40px;\n  /deep/ .el-dropdown__caret-button {\n    display: none;\n  }\n}\n.el-dropdown-menu {\n  top: 50px !important;\n}\n.tab-bar-set {\n  position: relative;\n  width: 200px;\n  height: 270px;\n  padding: 20px;\n  background-color: rgb(158, 216, 255);\n  img {\n    width: 80px;\n    height: 80px;\n    border-radius: 50%;\n    float: left;\n    margin-right: 10px;\n    transform: translateX(-10px);\n  }\n  .account {\n    clear: both;\n    line-height: 50px;\n    font-size: 16px;\n    color: gray;\n  }\n  .tab-bar-exit {\n    position: absolute;\n    bottom: 15px;\n    left: 50%;\n    width: 100px;\n    transform: translateX(-50%);\n    border-radius: 10px;\n    letter-spacing: 5px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DropDown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DropDown.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DropDown.vue?vue&type=template&id=d5f16ecc&scoped=true&\"\nimport script from \"./DropDown.vue?vue&type=script&lang=js&\"\nexport * from \"./DropDown.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DropDown.vue?vue&type=style&index=0&id=d5f16ecc&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d5f16ecc\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <!-- 头部导航 -->\n  <el-header id=\"myHead\">\n    <!-- logo -->\n    <div class=\"logo\">\n      <!-- 校园社区logo -->\n      <img src=\"@/assets/logo.svg\" alt=\"\" />\n      <!-- <div>我是logo</div> -->\n    </div>\n\n    <el-button type=\"text\" class=\"text\" @click=\"toHome\">网站主页</el-button>\n    <el-button type=\"text\" class=\"text\" @click=\"toRelationshipGraph\"\n      >关系图谱</el-button\n    >\n\n    <!-- 搜索框 -->\n    <div class=\"search\">\n      <el-input\n        placeholder=\"请输入内容\"\n        prefix-icon=\"el-icon-search\"\n        v-model=\"text\"\n        clearable\n        @change=\"search(text)\"\n      >\n      </el-input>\n      <ul\n        v-show=\"keyword\"\n        class=\"content\"\n        :class=\"{ defaultContent: !searchList.length }\"\n      >\n        <li\n          class=\"searchLi\"\n          v-for=\"(item, id) of searchList\"\n          :key=\"id\"\n          @click=\"toDetail(item.sid, item.pid)\"\n        >\n          {{ item.intro }}\n        </li>\n      </ul>\n    </div>\n\n    <!-- 登录注册 -->\n    <drop-down v-if=\"$store.state.token\"> </drop-down>\n    <div class=\"right\" v-else>\n      <el-button type=\"primary\" @click=\"toLogin\">登录</el-button>\n      <el-button type=\"primary\" @click=\"toSignUp\">注册</el-button>\n    </div>\n  </el-header>\n</template>\n\n<script>\nimport DropDown from './dropdown/DropDown.vue';\nimport { search } from '@/api/services/article.services';\nexport default {\n  data() {\n    return {\n      // 搜索框绑定\n      text: '',\n      // 搜索返回内容绑定\n      searchList: [],\n      // 搜索展示面板\n      keyword: false,\n    };\n  },\n  components: {\n    DropDown,\n  },\n  methods: {\n    // 搜索方法\n    async search(text) {\n      if (!text) {\n        this.searchList = [];\n        this.keyword = false;\n        return;\n      }\n      const data = await search(text);\n      console.log(data, 1);\n      if (!data.data) return;\n      this.searchList = data.data;\n      this.keyword = true;\n    },\n    // 跳转到home页面\n    toHome() {\n      this.$router.push('home');\n    },\n    // 跳转到登录界面\n    toLogin() {\n      this.$router.push('/login');\n    },\n    // 跳转到注册页面\n    toSignUp() {\n      this.$router.push('/SignUp');\n    },\n    // 跳转到关系图谱页面\n    toRelationshipGraph() {\n      this.$router.push('/RelationshipGraph');\n    },\n    // 跳转到帖子详情\n    toDetail(sid, pid) {\n      this.$router.push(`/detail?sid=${sid}&pid=${pid}`);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\nheader,\n.right {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\nheader {\n  position: sticky;\n  top: 0;\n  width: 100vw;\n  min-width: 1200px;\n  height: 10vh;\n  min-height: 64px;\n  padding: 0 50px;\n  box-sizing: border-box;\n  background-color: #0095ff;\n  z-index: 11;\n  box-shadow: 0 1px 40px -8px rgb(0 0 0 / 50%);\n  .logo {\n    width: 170px;\n    height: 100%;\n  }\n}\n.logo {\n  position: relative;\n  background-color: #0095ff;\n  overflow: hidden;\n}\n.logo img {\n  position: absolute;\n  top: -40%;\n  left: 0;\n  width: 100%;\n  // height: 8vh;\n}\nimg {\n  width: 30px;\n  cursor: pointer;\n}\n.text {\n  color: #fff;\n  font-size: 16px;\n  // div {\n  // margin: 0 10px;\n  &:hover {\n    color: #000000;\n    text-shadow: 1px 1px 1px #000, -1px -1px 1px #fff;\n    cursor: pointer;\n  }\n  // }\n}\n.search {\n  position: relative;\n  width: 500px;\n  .content {\n    position: absolute;\n    top: 30px;\n    width: 500px;\n    height: 300px;\n    box-sizing: border-box;\n    border-radius: 10px;\n    border: 2px solid skyblue;\n    box-shadow: 0 10px 30px -8px grey;\n    background-color: #fff;\n    z-index: -1;\n  }\n  .defaultContent {\n    background: url('https://s1.hdslb.com/bfs/static/blive/blfe-message-web/static/img/nodata.4d721f9d.png')\n      no-repeat center #fff;\n  }\n  .searchLi {\n    line-height: 60px;\n    padding: 0 30px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    cursor: pointer;\n    &:hover {\n      background-color: rgb(246, 246, 246);\n    }\n  }\n}\n.right {\n  width: 240px;\n  justify-content: space-around;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MyHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MyHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MyHeader.vue?vue&type=template&id=236660e6&scoped=true&\"\nimport script from \"./MyHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./MyHeader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MyHeader.vue?vue&type=style&index=0&id=236660e6&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"236660e6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-container',[_c('MyHeader',[_vm._v(\"Header\")]),_c('el-main',{attrs:{\"id\":\"label\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { post } from '@/api/request'\n\n// 关系数据接口\nexport const getRelationData = () => {\n  return post('/getRelationData')\n}","<template>\n  <el-container>\n    <MyHeader>Header</MyHeader>\n    <el-main id=\"label\"></el-main>\n  </el-container>\n</template>\n\n<script>\nimport MyHeader from '../components/MyHeader.vue';\nimport { getRelationData } from '@/api/services/relation';\n\nexport default {\n  data() {\n    return {\n      chartData: {\n        nodes: [],\n        links: [],\n      },\n      label: '',\n      prevIndex: '',\n      oldPrevIndex: '',\n      notification: '',\n    };\n  },\n  components: {\n    MyHeader,\n  },\n  methods: {\n    highlight(index, myChart) {\n      console.log(index, myChart);\n      myChart.dispatchAction({\n        type: 'highlight',\n        dataIndex: index,\n      });\n    },\n\n    // 非选中项取消高亮\n    noneHighlight(index, myChart) {\n      if (!index) return;\n      myChart.dispatchAction({\n        type: 'downplay',\n        dataIndex: index,\n      });\n    },\n\n    // 关系图\n    drawLabelChart() {\n      this.label = this.$echarts.init(document.getElementById('label'));\n      const that = this;\n\n      // echarts图表的点击事件，可通过param参数确认点击的对象\n      this.label.on('click', function (param) {\n        // that.label.dispatchAction({\n        //   type: 'focusNodeAdjacency',\n        //   // 使用 dataIndex 来定位节点。\n        //   dataIndex: param.dataIndex,\n        // });\n\n        const { properties, dataIndex, nodeType } = param;\n        that.noneHighlight(that.oldPrevIndex, this);\n        that.oldPrevIndex = dataIndex;\n\n        that.prevIndex = dataIndex;\n        console.log(dataIndex);\n        that.highlight(dataIndex, this);\n\n        console.log(param.dataType);\n        if (that.notification) {\n          that.notification.close();\n        }\n        if (param.dataType == 'node') {\n          // console.log(this);\n          that.notification = that.$notify({\n            title: param.data.name,\n            message: param.data.text,\n            type: 'success',\n            duration: 0,\n            position: 'bottom-right',\n            // showClose: false,\n          });\n          console.log('点击了边', param);\n        } else {\n          console.log(param.dataType);\n        }\n      });\n\n      this.label.on('mouseout', () => {\n        if (that.prevIndex === '') return;\n        // that.highlight(that.prevIndex, this);\n      });\n\n      // this.label.setOption({\n      //   series: []\n      // })\n      // const option = {}\n\n      // const nodes = [\n      //   {\n      //     name: '韦小宝',\n      //     // id: '1',\n      //     // symbolSize: 60, // 节点大小\n      //     symbol: require('@/assets/relationBg.png'), // 节点形状，'circle', 'rect', 'roundRect', 'triangle', 'diamond', 'pin', 'arrow', 'none'也可'image://url'设置节点图片\n      //   },\n      //   {\n      //     name: '方怡',\n      //     // id: '2',\n      //     // symbolSize: 60,\n      //   },\n      //   {\n      //     name: '双儿',\n      //     // id: '3',\n      //     // symbolSize: 60,\n      //   },\n      //   {\n      //     name: '茅十八',\n      //     // id: '4',\n      //     // symbolSize: 60,\n      //   },\n      //   {\n      //     name: '吴六奇',\n      //     // id: '5',\n      //     // symbolSize: 60,\n      //   },\n      // ];\n      // // console.log(nodes);\n\n      // const links = [\n      //   {\n      //     source: '韦小宝',\n      //     target: '方怡',\n      //     // relation: {\n      //     name: '老婆',\n      //     // id: '1',\n      //     // },\n      //   },\n      //   {\n      //     source: '韦小宝',\n      //     target: '双儿',\n      //     // relation: {\n      //     name: '老婆',\n      //     // id: '1',\n      //     // },\n      //   },\n      //   {\n      //     source: '韦小宝',\n      //     target: '茅十八',\n      //     // relation: {\n      //     name: '兄弟',\n      //     // id: '1',\n      //     // },\n      //   },\n      //   {\n      //     source: '茅十八',\n      //     target: '韦小宝',\n      //     // relation: {\n      //     name: '兄弟',\n      //     id: '1',\n      //     // },\n      //   },\n      //   {\n      //     source: '双儿',\n      //     target: '吴六奇',\n      //     // relation: {\n      //     name: '义妹',\n      //     // id: '1',\n      //     // },\n      //   },\n      // ];\n\n      this.label.setOption({\n        // 设置高亮颜色\n        dataRange: {\n          show: false,\n          x: 'left',\n          y: 'bottom',\n          splitList: [\n            { start: 5, end: 5, color: '#007aff' }, //当值为5时，区域背景\n          ],\n        },\n        series: [\n          {\n            type: 'graph',\n            layout: 'force',\n            links: this.chartData.links,\n            lineStyle: {\n              opacity: 0.9,\n              width: 2,\n              // color: 'red', //设置线条颜色 8ab7bd\n            },\n            symbolSize: 80,\n            roam: true, // 鼠标缩放功能\n            focusNodeAdjacency: true, // 鼠标移到节点上时突出显示结点以及邻节点和边\n            seriesType: 'effectScatter',\n            // effectType: 'ripple', //特效类型，目前只支持涟漪特效'ripple'。\n            // showEffectOn: 'emphasis',\n            // rippleEffect: {\n            //   color: 'rgba(235, 232, 29, 1)',\n            //   number: 3,\n            //   period: 4,\n            //   scale: 10,\n            //   brushType: 'fill',\n            // },\n\n            cursor: 'pointer',\n            // rippleEffect: {\n            //   //涟漪特效相关配置。\n            //   period: 1.5, //动画的时间。\n            //   scale: 6, //动画中波纹的最大缩放比例。\n            //   brushType: 'stroke', //波纹的绘制方式，可选 'stroke' 和 'fill'。\n            // },\n            // hoverAnimation: true,\n            itemStyle: {\n              normal: {\n                color: 'red',\n                shadowBlur: 10,\n                shadowColor: '#333',\n              },\n            },\n            dataZoom: {\n              emphasis: {\n                show: true,\n                handleStyle: {\n                  borderColor: '#ccc', //边框颜色\n                  borderWidth: 20, //边框线宽\n                },\n              },\n            },\n\n            scaleLimit: {\n              // 滚轮缩放的极限控制\n              max: 3, // 滚轮缩放最大值\n              min: 0.5, // 滚轮缩放的最小值\n            },\n            nodes: this.chartData.nodes,\n            // itemStyle: {\n            //   // color: {\n            //   //   type: 'radial',\n            //   //   x: 0.5,\n            //   //   y: 0.5,\n            //   //   r: 0.5,\n            //   //   // colorStops: [\n            //   //   //   {\n            //   //   //     offset: 0,\n            //   //   //     color: '#3dd67a' // 0% 处的颜色\n            //   //   //   },\n            //   //   //   {\n            //   //   //     offset: 0.7,\n            //   //   //     color: '#3dd67a' // 0% 处的颜色\n            //   //   //   },\n            //   //   //   {\n            //   //   //     offset: 1,\n            //   //   //     color: '#95dcb2' // 100% 处的颜色\n            //   //   //   }\n            //   //   // ],\n            //   //   // global: false, // 缺省为 false\n            //   // },\n            // },\n            label: {\n              show: true,\n              position: 'bottom',\n              distance: 10,\n              fontSize: 18,\n              align: 'center',\n            },\n            autoCurveness: 0.01, // 多条边的时候，自动计算曲率\n            edgeLabel: {\n              // 边的设置\n              show: true,\n              position: 'middle',\n              fontSize: 16,\n              formatter: (params) => {\n                return params.data.relation;\n              },\n            },\n            edgeSymbol: ['circle', 'arrow'], // 边两边的类型\n            force: {\n              repulsion: 100,\n              gravity: 0.01,\n              edgeLength: 200,\n            },\n          },\n        ],\n      });\n    },\n\n    // 获取关系数据\n    async getRelationData() {\n      const res = await getRelationData();\n      console.log(res);\n      if (res.status === 200) {\n        // if (res.data.newLink) {\n        // this.handlerRelation(res.data.linksData);\n        // const newObjOne = JSON.parse(\n        //   JSON.stringify(res.data.newLink).replace(/name/g, 'source'),\n        // );\n        for (const i in res.data.linksData) {\n          this.chartData.links.push({\n            source: res.data.linksData[i].name,\n            target: res.data.linksData[i].target,\n            relation: res.data.linksData[i].relation,\n          });\n        }\n        // this.links = newObjOne;\n        // }\n        // if (res.data.newNode) {\n        for (const i in res.data.nodesData) {\n          this.chartData.nodes.push({\n            name: res.data.nodesData[i].name,\n            symbol: 'image://' + res.data.nodesData[i].portrait,\n            text: res.data.nodesData[i].text,\n          });\n        }\n        // }\n        console.log(this.chartData.nodes);\n        return this.$message.success('获取数据成功！');\n      }\n      this.$message.error('获取数据失败！');\n    },\n\n    //改正数据\n    // handlerRelation(data) {\n    //   for (const i in data) {\n    //     const newData = {\n    //       name:data[i].topic\n    //       tar\n    //     }\n    //   }\n    // },\n\n    // 动态获取关系图数据\n    // async initLabelData () {\n    // const data = await getLabelData()\n    // if (!data) return\n    // initLabelData () {\n    //   const nodes = [\n    //     {\n    //       name: '韦小宝',\n    //       id: '1',\n    //       symbolSize: 60, // 节点大小\n    //       symbol: 'circle' // 节点形状，'circle', 'rect', 'roundRect', 'triangle', 'diamond', 'pin', 'arrow', 'none'也可'image://url'设置节点图片\n    //     },\n    //     {\n    //       name: '方怡',\n    //       id: '2',\n    //       symbolSize: 60\n    //     },\n    //     {\n    //       name: '双儿',\n    //       id: '3',\n    //       symbolSize: 60\n    //     },\n    //     {\n    //       name: '茅十八',\n    //       id: '4',\n    //       symbolSize: 60\n    //     },\n    //     {\n    //       name: '吴六奇',\n    //       id: '5',\n    //       symbolSize: 60\n    //     }\n    //   ]\n    //   console.log(nodes)\n    //   this.label.setOption({\n    //     type: 'graph',\n    //     layout: 'force',\n    //     series: [{ nodes }]\n    //   })\n    // }\n\n    // console.log(this.label)\n    // alertClick() {\n    //   console.log(1);\n    // if (params.data.name) {\n    //   var idCard = params.data.name; // 获取被点击节点的身份证号\n    //   console.log(idCard);\n    // } else {\n    //   console.log('您点击节点信息！');\n    // }\n    // },\n  },\n  mounted() {},\n  watch: {\n    chartData: {\n      deep: true,\n      handler(newV, oldV) {\n        this.drawLabelChart();\n      },\n    },\n  },\n  created() {\n    this.getRelationData();\n  },\n  beforeDestroy() {\n    if (this.notification) {\n      this.notification.close();\n    }\n    console.log('bai');\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.el-container {\n  display: flex;\n  // position: relative;\n  flex-direction: column;\n  height: 100vh;\n  // background: url('@/assets/relationBg.png') no-repeat;\n  // background-size: cover;\n  // &::before {\n  //   content: '';\n  //   position: absolute;\n  //   width: 100%;\n  //   height: 100%;\n  //   background-color: rgba(0, 0, 0, 0.4);\n  // }\n  // .el-header {\n  //   z-index: 2;\n  // }\n  #label {\n    flex: 1;\n    // height: 85vh;\n    // padding: 0px;\n    color: wheat;\n    background: url('../assets/bgImg.png') no-repeat;\n    background-color: rgba(0, 0, 0, 0.4);\n    background-size: 100%;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RelationshipGraph.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RelationshipGraph.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RelationshipGraph.vue?vue&type=template&id=ad6058b6&scoped=true&\"\nimport script from \"./RelationshipGraph.vue?vue&type=script&lang=js&\"\nexport * from \"./RelationshipGraph.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RelationshipGraph.vue?vue&type=style&index=0&id=ad6058b6&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ad6058b6\",\n  null\n  \n)\n\nexport default component.exports","import { post, get } from '../request'\n// 搜索文章接口\nexport const search = (text) => {\n  return post('/search', { text })\n}\n\n// 获取用户帖子接口\nexport const Posts = (uid) => {\n  return post('/post', { uid })\n}\n\n// 帖子详细接口\nexport const section = (sid, pid, form) => {\n  return post(`section/${sid}/${pid}`, form)\n}\n\n// 板块接口\nexport const plate = (sid, form) => {\n  return post(`section/${sid}`, form)\n}\n\n// 发布帖子接口\nexport const foren = (form) => {\n  return post('foren', form)\n}\n\n// 获取所有板块接口\nexport const getAllSection = (form) => {\n  return post('getAllSection', form)\n}\n\n// 获取文章接口\nexport const sendMessage = (form) => {\n  return post('sendMessage', form)\n}\n"],"names":["render","_vm","this","_c","_self","attrs","staticClass","require","on","toHome","_v","toRelationshipGraph","$event","search","text","model","value","callback","$$v","expression","directives","name","rawName","keyword","class","defaultContent","searchList","length","_l","item","id","key","toDetail","sid","pid","_s","intro","$store","state","token","toLogin","toSignUp","staticRenderFns","user","role","handleCommand","slot","_e","portrait","toUser","password","exit","_t","component","data","methods","window","components","DropDownLink","DropDown","console","getRelationData","post","chartData","nodes","links","label","prevIndex","oldPrevIndex","notification","MyHeader","highlight","myChart","type","dataIndex","noneHighlight","drawLabelChart","properties","nodeType","that","title","message","duration","position","dataRange","show","x","y","splitList","start","end","color","series","layout","lineStyle","opacity","width","symbolSize","roam","focusNodeAdjacency","seriesType","cursor","itemStyle","normal","shadowBlur","shadowColor","dataZoom","emphasis","handleStyle","borderColor","borderWidth","scaleLimit","max","min","distance","fontSize","align","autoCurveness","edgeLabel","formatter","edgeSymbol","force","repulsion","gravity","edgeLength","source","target","relation","symbol","mounted","watch","deep","handler","created","beforeDestroy","Posts","uid","plate","form"],"sourceRoot":""}