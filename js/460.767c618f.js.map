{"version":3,"file":"js/460.767c618f.js","mappings":"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","sources":["webpack://chinese_myths/./src/views/backstage/PlateDetailList.vue","webpack://chinese_myths/src/views/backstage/PlateDetailList.vue","webpack://chinese_myths/./src/views/backstage/PlateDetailList.vue?0e7d","webpack://chinese_myths/./src/views/backstage/PlateDetailList.vue?cd0f","webpack://chinese_myths/./src/api/services/backstage.services.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"box-container\"},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/bghome' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"板块管理\")]),_c('el-breadcrumb-item',[_vm._v(\"帖子详情\")])],1),_c('el-card',{staticClass:\"box-card\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData.filter(\n          (data) =>\n            !_vm.search ||\n            data.name.toLowerCase().includes(_vm.search.toLowerCase()) ||\n            data.intro.toLowerCase().includes(_vm.search.toLowerCase()),\n        ),\"default-sort\":{ prop: 'date', order: 'descending' }}},[_c('el-table-column',{attrs:{\"prop\":\"sid\",\"label\":\"板块\",\"align\":\"center\",\"sortable\":\"\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.sid === 1)?_c('span',[_vm._v(\"创世神话\")]):(scope.row.sid === 2)?_c('span',[_vm._v(\"英雄神话\")]):_c('span',[_vm._v(\"自然神话\")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"帖子\",\"align\":\"center\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.name))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"intro\",\"label\":\"人物简介\",\"align\":\"center\",\"width\":\"340\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"ellipsis\")(scope.row.intro)))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"story\",\"label\":\"人物故事\",\"align\":\"center\",\"width\":\"340\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"ellipsis\")(scope.row.story)))])]}}])}),_c('el-table-column',{attrs:{\"align\":\"right\",\"prop\":\"address\",\"formatter\":_vm.formatter},scopedSlots:_vm._u([{key:\"header\",fn:function(scope){return [_c('el-input',{attrs:{\"size\":\"mini\",\"clearable\":\"\",\"placeholder\":\"输入关键字搜索\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})]}},{key:\"default\",fn:function(scope){return [_c('el-tooltip',{attrs:{\"content\":\"查看\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.PlateListEdit(scope.$index, scope.row)}}})],1),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.PlateListeDelete(scope.$index, scope.row.sid, scope.row.pid)}}})]}}])})],1),_c('div',{staticClass:\"block\",staticStyle:{\"text-align\":\"center\",\"margin-top\":\"15px\"}},[_c('el-button',{staticClass:\"add el-icon-plus\",attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.plateListAdd}},[_vm._v(\"添加\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"帖子详情\",\"visible\":_vm.centerDialogVisible,\"width\":\"60%\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.centerDialogVisible=$event}}},[_c('el-form',{ref:\"detail\",attrs:{\"model\":_vm.detail,\"rules\":_vm.rules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"主题\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.detail.name),callback:function ($$v) {_vm.$set(_vm.detail, \"name\", $$v)},expression:\"detail.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"板块区域\",\"prop\":\"sid\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择板块区域\"},model:{value:(_vm.detail.sid),callback:function ($$v) {_vm.$set(_vm.detail, \"sid\", $$v)},expression:\"detail.sid\"}},[_c('el-option',{attrs:{\"label\":\"创世神话\",\"value\":\"1\"}}),_c('el-option',{attrs:{\"label\":\"英雄神话\",\"value\":\"2\"}}),_c('el-option',{attrs:{\"label\":\"自然神话\",\"value\":\"3\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"图画\",\"prop\":\"portrait\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"http://localhost:3000/getImgPath\",\"show-file-list\":false,\"list-type\":\"picture-card\",\"multiple\":false,\"limit\":1,\"auto-upload\":true,\"on-success\":_vm.handle_success,\"accept\":\"image/png, image/jpg, image/jpeg\"},model:{value:(_vm.detail.portrait),callback:function ($$v) {_vm.$set(_vm.detail, \"portrait\", $$v)},expression:\"detail.portrait\"}},[_c('div',[(this.detail.portrait)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":this.detail.portrait}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])])],1),_c('el-form-item',{attrs:{\"label\":\"人物简介\",\"prop\":\"intro\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 6 },\"maxlength\":\"255\",\"show-word-limit\":\"\"},model:{value:(_vm.detail.intro),callback:function ($$v) {_vm.$set(_vm.detail, \"intro\", $$v)},expression:\"detail.intro\"}})],1),_c('el-form-item',{attrs:{\"label\":\"人物故事\",\"prop\":\"story\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 6 },\"maxlength\":\"255\",\"show-word-limit\":\"\"},model:{value:(_vm.detail.story),callback:function ($$v) {_vm.$set(_vm.detail, \"story\", $$v)},expression:\"detail.story\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.handleCancel}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"disabled\":_vm.isDisabled,\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handlerPost(_vm.detail)}}},[_vm._v(\"确 定\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"box-container\">\n    <!-- 面包屑导航区域 -->\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{ path: '/bghome' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item>板块管理</el-breadcrumb-item>\n      <el-breadcrumb-item>帖子详情</el-breadcrumb-item>\n    </el-breadcrumb>\n    <!-- 卡片视图区域 -->\n    <el-card class=\"box-card\">\n      <!-- 板块管理区域 -->\n      <el-table\n        :data=\"\n          tableData.filter(\n            (data) =>\n              !search ||\n              data.name.toLowerCase().includes(search.toLowerCase()) ||\n              data.intro.toLowerCase().includes(search.toLowerCase()),\n          )\n        \"\n        style=\"width: 100%\"\n        :default-sort=\"{ prop: 'date', order: 'descending' }\"\n      >\n        <el-table-column\n          prop=\"sid\"\n          label=\"板块\"\n          align=\"center\"\n          sortable\n          width=\"80\"\n        >\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.sid === 1\">创世神话</span>\n            <span v-else-if=\"scope.row.sid === 2\">英雄神话</span>\n            <span v-else>自然神话</span>\n          </template>\n        </el-table-column>\n        <!-- <el-table-column\n          prop=\"date\"\n          label=\"发帖日期\"\n          align=\"center\"\n          sortable\n          width=\"180\"\n        >\n          <template slot-scope=\"scope\">\n            <i class=\"el-icon-time\"></i>\n            <span style=\"margin-left: 10px\">{{\n              new Date(scope.row.registerTime).toLocaleString()\n            }}</span>\n          </template>\n        </el-table-column> -->\n        <el-table-column prop=\"name\" label=\"帖子\" align=\"center\" width=\"120\">\n          <template slot-scope=\"scope\">\n            <el-tag style=\"margin-left: 10px\">{{ scope.row.name }}</el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column\n          prop=\"intro\"\n          label=\"人物简介\"\n          align=\"center\"\n          width=\"340\"\n        >\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.intro | ellipsis }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          prop=\"story\"\n          label=\"人物故事\"\n          align=\"center\"\n          width=\"340\"\n        >\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.story | ellipsis }}</span>\n          </template>\n        </el-table-column>\n        <!-- <el-table-column\n          prop=\"applaud\"\n          label=\"点赞量\"\n          align=\"center\"\n          width=\"80\"\n        >\n          <template slot-scope=\"scope\">\n            <span style=\"margin-left: 10px\">{{ scope.row.applaud }}</span>\n          </template>\n        </el-table-column> -->\n        <!-- <el-table-column\n          prop=\"collected\"\n          label=\"收藏量\"\n          align=\"center\"\n          width=\"80\"\n        >\n          <template slot-scope=\"scope\">\n            <span style=\"margin-left: 10px\">{{ scope.row.collected }}</span>\n          </template>\n        </el-table-column> -->\n        <el-table-column align=\"right\" prop=\"address\" :formatter=\"formatter\">\n          <template slot=\"header\" slot-scope=\"scope\">\n            <el-input\n              v-model=\"search\"\n              size=\"mini\"\n              clearable\n              placeholder=\"输入关键字搜索\"\n            />\n          </template>\n          <template slot-scope=\"scope\">\n            <!-- 编辑 -->\n            <el-tooltip content=\"查看\" placement=\"top\">\n              <el-button\n                size=\"mini\"\n                type=\"primary\"\n                @click=\"PlateListEdit(scope.$index, scope.row)\"\n                icon=\"el-icon-edit\"\n                circle\n              >\n              </el-button>\n            </el-tooltip>\n            <!-- 删除 -->\n            <el-button\n              size=\"mini\"\n              @click=\"\n                PlateListeDelete(scope.$index, scope.row.sid, scope.row.pid)\n              \"\n              type=\"danger\"\n              icon=\"el-icon-delete\"\n              circle\n            ></el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <div class=\"block\" style=\"text-align: center; margin-top: 15px\">\n        <el-button\n          class=\"add el-icon-plus\"\n          type=\"primary\"\n          size=\"mini\"\n          @click=\"plateListAdd\"\n          >添加</el-button\n        >\n      </div>\n    </el-card>\n\n    <!-- 添加帖子对话框 -->\n    <el-dialog\n      title=\"帖子详情\"\n      :visible.sync=\"centerDialogVisible\"\n      width=\"60%\"\n      center\n    >\n      <el-form ref=\"detail\" :model=\"detail\" :rules=\"rules\" label-width=\"80px\">\n        <el-form-item label=\"主题\" prop=\"name\">\n          <el-input v-model=\"detail.name\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"板块区域\" prop=\"sid\">\n          <el-select v-model=\"detail.sid\" placeholder=\"请选择板块区域\">\n            <el-option label=\"创世神话\" value=\"1\"></el-option>\n            <el-option label=\"英雄神话\" value=\"2\"></el-option>\n            <el-option label=\"自然神话\" value=\"3\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"图画\" prop=\"portrait\">\n          <el-upload\n            class=\"avatar-uploader\"\n            action=\"http://localhost:3000/getImgPath\"\n            :show-file-list=\"false\"\n            list-type=\"picture-card\"\n            :multiple=\"false\"\n            :limit=\"1\"\n            :auto-upload=\"true\"\n            v-model=\"detail.portrait\"\n            :on-success=\"handle_success\"\n            accept=\"image/png, image/jpg, image/jpeg\"\n          >\n            <div>\n              <img\n                v-if=\"this.detail.portrait\"\n                :src=\"this.detail.portrait\"\n                class=\"avatar\"\n              />\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n            </div>\n            <!-- <div v-show=\"showChooseAvatar\">\n              <ul>\n                <li v-for=\"item in fileList\" :key=\"item.id\">\n                  <img\n                    class=\"avatar\"\n                    :src=\"item.portrait\"\n                    @click=\"chooseImg(item.portrait)\"\n                  />\n                </li>\n              </ul>\n            </div> -->\n          </el-upload>\n        </el-form-item>\n        <el-form-item label=\"人物简介\" prop=\"intro\">\n          <el-input\n            type=\"textarea\"\n            v-model=\"detail.intro\"\n            :autosize=\"{ minRows: 6 }\"\n            maxlength=\"255\"\n            show-word-limit\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"人物故事\" prop=\"story\">\n          <el-input\n            type=\"textarea\"\n            v-model=\"detail.story\"\n            :autosize=\"{ minRows: 6 }\"\n            maxlength=\"255\"\n            show-word-limit\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"handleCancel\">取 消</el-button>\n        <el-button\n          :disabled=\"isDisabled\"\n          type=\"primary\"\n          @click=\"handlerPost(detail)\"\n          >确 定</el-button\n        >\n      </span>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport {\n  getAllPost,\n  updatePost,\n  goToRecycle,\n} from '@/api/services/backstage.services';\nexport default {\n  name: 'plate-list',\n  data() {\n    return {\n      search: '',\n      centerDialogVisible: false,\n      detail: {},\n      detailCopy: {\n        sid: '',\n        name: '',\n        intro: '',\n        story: '',\n      },\n      tableData: [],\n      fileList: [\n        {\n          id: '1',\n          portrait:\n            'https://img1.baidu.com/it/u=1659441821,1293635445&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500',\n        },\n      ],\n      // showChooseAvatar: true,\n      isDisabled: true,\n      isAdd: 0,\n      rules: {\n        name: [\n          { required: true, message: '请输入主题名称', trigger: 'blur' },\n          { min: 1, message: '长度至少大于 1 个字符', trigger: 'blur' },\n        ],\n        sid: [{ required: true, message: '请选择板块区域', trigger: 'change' }],\n        portrait: { required: true, message: '图画不能为空' },\n        intro: [\n          { required: true, message: '请输入内容', trigger: 'blur' },\n          {\n            min: 1,\n            max: 255,\n            message: '长度至少大于 1 个字符',\n            trigger: 'blur',\n          },\n        ],\n        story: [\n          { required: true, message: '请输入内容', trigger: 'blur' },\n          {\n            min: 1,\n            max: 255,\n            message: '长度至少大于 1 个字符',\n            trigger: 'blur',\n          },\n        ],\n      },\n    };\n  },\n  watch: {\n    detail: {\n      deep: true,\n      handler(newValue, oldValue) {\n        console.log(\n          JSON.stringify(this.detailCopy) !== JSON.stringify(newValue),\n          this.detailCopy,\n        );\n        if (JSON.stringify(this.detailCopy) !== JSON.stringify(newValue)) {\n          this.isDisabled = false;\n        } else {\n          this.isDisabled = true;\n        }\n      },\n    },\n  },\n  created() {\n    const loading = this.$loading({\n      lock: true,\n      text: '数据加载中......',\n      spinner: 'el-icon-loading',\n      background: 'rgba(0, 0, 0, 0.7)',\n    });\n    setTimeout(() => {\n      loading.close();\n    }, 1000); /* 设置时间为1秒 */\n  },\n  // 控制详情展示文字\n  filters: {\n    ellipsis(value) {\n      if (!value) return '';\n      if (value.length > 50) {\n        return value.slice(0, 48) + '...';\n      }\n      return value;\n    },\n  },\n  mounted() {\n    this.getAllPostInfo();\n  },\n  methods: {\n    // 发起请求获取所有板块信息\n    async getAllPostInfo(index, row) {\n      const data = await getAllPost();\n      console.log(data);\n      if (data.status === 200) {\n        return (this.tableData = data.data);\n        // return this.$message.success('获取数据成功！');\n      }\n      return this.$message.error('获取数据失败！');\n    },\n    // 编辑\n    PlateListEdit(index, row) {\n      // this.detail = {};\n      this.centerDialogVisible = true;\n      this.detail = { ...row };\n      this.detailCopy = { ...row };\n    },\n    // 增加\n    plateListAdd() {\n      this.detail = {};\n      this.centerDialogVisible = true;\n      this.detail.isAdd = 1;\n      this.detailCopy.isAdd = 1;\n    },\n    // 取消\n    handleCancel() {\n      this.centerDialogVisible = false;\n      if (this.detail.isAdd) {\n        this.detail.isAdd = 0;\n        this.detailCopy.isAdd = 0;\n      }\n    },\n    // 删除\n    async PlateListeDelete(index, sid, pid) {\n      // console.log(pid);\n      // console.log(index);\n      const confirmResult = await this.$confirm('确定要删除此帖子吗?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning',\n      }).catch((err) => err);\n\n      // 如果用户确认删除，则返回字符串 confirm\n      // 如果用户取消删除，则返回字符串 cancel\n      if (confirmResult !== 'confirm') {\n        return this.$message.info('已取消删除');\n      }\n\n      const data = await goToRecycle(sid, pid);\n      console.log(data);\n      if (data.status === 200) {\n        console.log(index);\n        this.tableData.splice(index, 1);\n        return this.$message.success('删除成功！');\n      }\n      // if (data.stu)\n      //   // this.$router.go();\n      //   this.tableData = data;\n      return this.$message.error('删除失败！');\n    },\n    // 删除标签\n    deleteLabel(text) {\n      const reg = /<\\/?.+?\\/?>/g;\n      return text.replace(reg, '');\n    },\n    // 更改帖子\n    async handlerPost(detail) {\n      console.log(detail);\n      const res = await updatePost(detail);\n      if (res.status === 200) {\n        this.centerDialogVisible = false;\n        this.$message.success(res.msg);\n        return this.getAllPostInfo();\n      }\n      this.$message.error('失败！');\n    },\n    formatter(row, column) {\n      console.log(row);\n      return row.address;\n    },\n    handle_success(res) {\n      console.log(res, 2);\n      if (res.status === 200) {\n        this.$message.success('图片上传成功');\n        this.detail.portrait = res.data.url;\n        console.log(this.detail.portrait);\n      } else {\n        this.$message.success('图片上传失败');\n      }\n    },\n    // showImg() {\n    //   this.showChooseAvatar = false;\n    // },\n    // chooseImg(portrait) {\n    //   localStorage.setItem('avatar', portrait);\n    //   this.signForm.portrait = localStorage.getItem('avatar');\n    //   this.showChooseAvatar = false;\n    // },\n  },\n};\n</script>\n<style lang=\"less\" scoped>\n.box-container {\n  height: 100%;\n  min-width: 800px;\n}\n.el-breadcrumb {\n  margin-bottom: 15px;\n  font-size: 12px;\n}\n.text {\n  font-size: 14px;\n}\n\n.item {\n  padding: 10px 0;\n}\n\n.box-card {\n  width: 100%;\n}\n\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\n  border-color: #409eff;\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 148px;\n  height: 148px;\n  line-height: 148px;\n  text-align: center;\n}\n.avatar {\n  width: 148px;\n  height: 148px;\n  display: block;\n}\n/deep/ textarea {\n  resize: none;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PlateDetailList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PlateDetailList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PlateDetailList.vue?vue&type=template&id=6b8c7a8a&scoped=true&\"\nimport script from \"./PlateDetailList.vue?vue&type=script&lang=js&\"\nexport * from \"./PlateDetailList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PlateDetailList.vue?vue&type=style&index=0&id=6b8c7a8a&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6b8c7a8a\",\n  null\n  \n)\n\nexport default component.exports","import { post } from '../request'\n// 后台首页数据接口\nexport const getAllData = () => {\n  return post('/getAllData')\n}\n\n// 请求用户数据接口\nexport const getAllUser = (uid, token) => {\n  return post('/getAllUser', {\n    uid,\n    token\n  })\n}\n\n// 添加用户接口\nexport const register = (form) => {\n  return post('/register', form)\n}\n\n// 后台修改用户信息接口\nexport const updataInfoByAdmin = (\n  token,\n  adminId,\n  adminPwd,\n  adminUser,\n  {\n    email,\n    password,\n    phone,\n    role,\n    uid,\n    username\n  }\n) => {\n  return post('updataInfoByAdmin', {\n    email,\n    password,\n    phone,\n    role,\n    uid,\n    username,\n    token,\n    adminId,\n    adminPwd,\n    adminUser\n  })\n}\n\n// 删除用户接口\nexport const deleteUser = (uid) => {\n  return post('/deleteUser', { uid })\n}\n\n// 回收站删除板块接口\nexport const removeFromRecycle = (sid, pid) => {\n  return post('removeFromRecycle', { sid, pid })\n}\n// 回收站得到板块接口\nexport const getAllRecycle = () => {\n  return post('getAllRecycle')\n}\n// 回收恢复帖子接口\nexport const recover = (sid, pid) => {\n  return post('recover', { sid, pid })\n}\n\n// 删除板块接口\nexport const delectSection = (sid) => {\n  return post('delectSection', { sid })\n}\n\n// 添加板块接口\nexport const addSection = (row) => {\n  return post('addSection', row)\n}\n\n// 获取所有板块信息接口\nexport const getAllSection = () => {\n  return post('getAllSections')\n}\n\n// 获取所有帖子息接口\nexport const getAllPost = () => {\n  return post('getAllPost')\n}\n// 帖子修改接口\nexport const updatePost = (row) => {\n  return post('updatePost', row)\n}\n\n// 删除帖子接口\nexport const goToRecycle = (sid, pid) => {\n  return post('goToRecycle', { sid, pid })\n}\n// 取消帖子接口\nexport const noneRecycle = (uid, pid) => {\n  return post('noneRecycle', { uid, pid })\n}\n"],"names":["render","_vm","this","_c","_self","staticClass","attrs","path","_v","staticStyle","tableData","filter","data","search","name","toLowerCase","includes","intro","prop","order","scopedSlots","_u","key","fn","scope","row","sid","_s","_f","story","formatter","model","value","callback","$$v","expression","on","$event","PlateListEdit","$index","PlateListeDelete","pid","plateListAdd","centerDialogVisible","ref","detail","rules","$set","handle_success","portrait","minRows","slot","handleCancel","isDisabled","handlerPost","staticRenderFns","detailCopy","fileList","id","isAdd","required","message","trigger","min","max","watch","deep","handler","console","JSON","created","lock","text","spinner","background","setTimeout","loading","filters","ellipsis","mounted","methods","confirmButtonText","cancelButtonText","type","deleteLabel","component","getAllData","post","getAllUser","uid","token","register","form","updataInfoByAdmin","adminId","adminPwd","adminUser","email","password","phone","role","username","deleteUser","delectSection","addSection","getAllSection","getAllPost","updatePost","goToRecycle","noneRecycle"],"sourceRoot":""}